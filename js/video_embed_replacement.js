/*! Yield Master Video * 1fab7ee10864ca3fec56e82aa310ef6963eec05f * 2024-10-28T11:05:04.687Z */(()=>{"use strict";const e=JSON.parse('{"KID":[{"kind":"youtube","selector":".c-content .kg-card.kg-embed-card iframe[src*=\\"youtube.com/embed\\"]"}],"SBH":[{"kind":"customIframe","selector":".iframeWrapper iframe.pageIframe[src*=\\"/video/iframe/\\"]"}]}');class t{constructor(e){this.listeners={},this.startFinder(e)}startFinder(e){this.unsuccessfulAttempts=0,this.timer=setInterval((()=>{let t=0;e.forEach((e=>{const n=e.selector+':not([data-ym-ver="1"])',s=(i=n,[...(a||document).querySelectorAll(i)]);var i,a;t+=s.length,s.forEach((t=>{t.setAttribute("data-ym-ver","1"),this.trigger("newPlacementFound",{kind:e.kind,$$placement:t})}))})),t?this.unsuccessfulAttempts=0:(this.unsuccessfulAttempts++,30===this.unsuccessfulAttempts&&clearInterval(this.timer))}),1e3)}on(e,t){"function"==typeof t&&(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t))}trigger(e,t){this.listeners[e]&&this.listeners[e].forEach((e=>{setTimeout((()=>{e(t)}))}))}}const n="youtube",s="customIframe",i=[n,s],a={getData(e){let{siteCode:t,kind:s,id:i}=e;return new Promise(((e,t)=>{const a=((e,t)=>{let s;return e===n&&(s=(e=>"https://yt-hosted.membrana.media/membrana/v1/video_cms/find_by_yt_id/"+e)(t)),s})(s,i);a?fetch(a).then((e=>{if(200===e.status)return e.json();throw e.statusText||"Content can't be load"})).then((e=>{if(e?.data)return e.data;throw"Invalid content data"})).then((t=>{if(!(t?.desktop_url&&t?.poster_url&&t?.duration))throw"Invalid content data";e({src:t.desktop_url,poster:t.poster_url,duration:t.duration})})).catch((e=>{t(e)})):t("Invalid kind")}))}};window.yieldMasterCmd=window.yieldMasterCmd||[];let r=!1;const d={loadAndInitYmJs(e){let{siteCode:t}=e;if(!r&&"function"!=typeof window?.yieldMaster?.init){r=!0;const e=document.createElement("script");e.async=!0,e.src=`https://cdn.membrana.media/${t.toLowerCase()}/ym.js`,document.head.appendChild(e),window.yieldMasterCmd.push((()=>{window.yieldMaster.init({pageVersionAutodetect:!0})}))}}},o={rand:(e,t)=>Math.floor(Math.random()*(t-e+1)+e)};class c{constructor(e){let{siteCode:t,$$placement:n,src:s,poster:i,duration:a}=e;const r=n.getBoundingClientRect(),c=n.parentElement.getBoundingClientRect(),l=document.createElement("div"),m=document.createElement("div");m.style.aspectRatio=r.width/r.height+" / 1",window.requestAnimationFrame((()=>{n.parentElement.appendChild(l),l.style.cssText="width: 100%; height: 100%","KID"===t&&(l.style.paddingBottom=c.height-r.height+"px"),n.style.display="none",n.parentElement.appendChild(l),l.appendChild(m)}));const u="ym_ver_"+o.rand(1e5,999999);m.id=u,d.loadAndInitYmJs({siteCode:t}),window.requestAnimationFrame((()=>{window.yieldMasterCmd.push((()=>{window.yieldMaster.videoEmbed(u,{src:s,poster:i,duration:a},{})}))}))}}class l{constructor(n){let{siteCode:s,debug:a}=n;this.siteCode=s,this.debug=a,this.data=Array.isArray(e[s])?e[s].filter((e=>i.includes(e.kind))):[],this.data.length&&(this.placementManager=new t(this.data),this.addListeners())}addListeners(){const{siteCode:e}=this;this.placementManager.on("newPlacementFound",(t=>{let{kind:i,$$placement:r}=t;if(i===n){const t=(e=>{let t;if("string"==typeof e){const n=e.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]+)/);n&&(t=n[1])}return t})(r.src);t&&a.getData({siteCode:e,kind:i,id:t}).then((t=>{let{src:n,poster:s,duration:i}=t;new c({siteCode:e,$$placement:r,src:n,poster:s,duration:i})})).catch((e=>{this.debug&&console.error(e)}))}else if(i===s&&"SBH"===e){let t,n;t="https://ahaber-vod.ercdn.net/video/2024/08/39e61d9c-8225-4c76-8897-1a64b8328918_2800.mp4",n="https://iaahbr.tmgrup.com.tr/d4863e/657/410/181/0/808/391?u=https://iahbr.tmgrup.com.tr/2024/08/08/japonyada-71lik-deprem-sonrasi-tsunami-1-metreye-varan-tsunami-dalgalari-miyazaki-kentine-ulasti-1723106271393.jpg",new c({siteCode:e,$$placement:r,src:t,poster:n})}}))}}let m;const u=new URLSearchParams(document.location.search);try{const e=document.currentScript.src,t=new URL(e),n=new URLSearchParams(t.search);m=n.get("site")||null}catch(e){}const h=()=>{new l({siteCode:m,debug:u.get("ym_debug_log")})};m&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h())})();